<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Michelson Interferometer Simulation</title>
<style>
  :root {
    --bg-color: #0a0a16;
    --text-color: #e0eaff;
    --accent: #66aaff;
  }
  * {
    box-sizing: border-box;
  }
  body {
    margin: 0;
    background: var(--bg-color);
    color: var(--text-color);
    font-family: "Segoe UI", system-ui, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 1rem;
  }

  /* NEW: main wrapper to cap screen width at 1920px and center all content */
  .wrapper {
    width: 100%;
    max-width: 1920px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  header {
    text-align: center;
    max-width: 800px;
  }
  h1 {
    margin-top: 1rem;
    font-size: clamp(1.5rem, 4vw, 2.5rem);
    color: #7dd3fc;
  }
  .info {
    font-size: clamp(0.9rem, 2vw, 1rem);
    text-align: justify;
    color: #cbd5e1;
    line-height: 1.5;
  }

  /* CANVAS KE STYLES BILKUL WAHI RAKHE (unchanged) */
  canvas {
    width: 100%;
    max-width: 800px;
    height: auto;
    aspect-ratio: 16 / 9;
    background: #0a0a16;
    border: 2px solid #333;
    border-radius: 10px;
    display: block;
    margin: 1rem auto;
  }
  .controls {
    text-align: center;
    max-width: 800px;
    width: 100%;
    background: #111827;
    padding: 1rem;
    border-radius: 12px;
    box-shadow: 0 0 15px #0004;
  }
  .control-group {
    margin: 0.5rem 0;
  }
  input[type=range] {
    width: 70%;
    accent-color: var(--accent);
  }
  button {
    background: var(--accent);
    color: #000;
    border: none;
    padding: 0.5rem 1rem;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    transition: 0.2s;
  }
  button:hover {
    transform: scale(1.05);
  }
  footer {
    margin-top: 2rem;
    font-size: 0.8rem;
    color: #64748b;
  }
</style>
</head>
<body>
<div class="wrapper">
  <header>
    <h1>Michelson Interferometer</h1>
  </header>

  <canvas id="sim" width="800" height="450"></canvas>

  <div class="controls">
    <div class="control-group">
      <label>Mirror Position Δ (μm): <span id="deltaValue">0.00</span></label><br>
      <input type="range" id="deltaSlider" min="-10" max="10" step="0.05" value="0">
    </div>
    <div class="control-group">
      <label>Wavelength (nm): <span id="lambdaValue">600</span></label><br>
      <input type="range" id="lambdaSlider" min="400" max="700" step="1" value="600">
    </div>
    <div class="control-group">
      <button id="toggleAnim">⏸ Pause Animation</button>
    </div>
    <div class="info">
      <p>
        The Michelson interferometer was invented by <strong>Albert A. Michelson</strong>.
        It measures extremely small distance differences using interference of light.
      </p>
      <p>
        A beam splitter divides a laser into two perpendicular paths. Each beam reflects from a mirror and returns to the splitter.
        When recombined, they form <strong>interference fringes</strong> bright when the waves align, dark when out of phase.
      </p>
      <p>
        Adjusting one mirror changes the path length and shifts the fringes, demonstrating how precise light interference can measure tiny displacements.
      </p>
    </div>
  </div>

  <footer>Made for Physics Students • Michelson Interferometer Interactive AS.TechForce</footer>
</div>

<script>
const canvas = document.getElementById("sim");
const ctx = canvas.getContext("2d");
const deltaSlider = document.getElementById("deltaSlider");
const lambdaSlider = document.getElementById("lambdaSlider");
const deltaValue = document.getElementById("deltaValue");
const lambdaValue = document.getElementById("lambdaValue");
const toggleAnimBtn = document.getElementById("toggleAnim");

let t = 0;
let paused = false;

toggleAnimBtn.addEventListener("click", () => {
  paused = !paused;
  toggleAnimBtn.textContent = paused ? "▶ Resume Animation" : "⏸ Pause Animation";
});

function drawWaveLine(x1, y1, x2, y2, wavelength_px, speed, time, color) {
  const dx = x2 - x1;
  const dy = y2 - y1;
  const len = Math.sqrt(dx*dx + dy*dy);
  const angle = Math.atan2(dy, dx);
  ctx.save();
  ctx.translate(x1, y1);
  ctx.rotate(angle);
  ctx.beginPath();
  for (let i = 0; i <= len; i++) {
    const phase = (i / wavelength_px) * 2 * Math.PI - speed * time;
    const y = Math.sin(phase) * 5;
    i === 0 ? ctx.moveTo(i, y) : ctx.lineTo(i, y);
  }
  ctx.strokeStyle = color;
  ctx.lineWidth = 2;
  ctx.stroke();
  ctx.restore();
}

function drawInterferometer(delta_um, lambda_nm, time) {
  const w = canvas.width, h = canvas.height;
  ctx.clearRect(0, 0, w, h);
  const cx = w / 3, cy = h / 2;
  const mirror2Y = cy - 130;
  const mirror1X = cx + 150 + delta_um * 5;
  const wavePx = 40 * (lambda_nm / 600);

  // Beam splitter
  ctx.save();
  ctx.translate(cx, cy);
  ctx.rotate(Math.PI / 4);
  ctx.fillStyle = "#66aaff55";
  ctx.fillRect(-12, -12, 24, 24);
  ctx.restore();

  // Mirrors
  ctx.fillStyle = "#bbb";
  ctx.fillRect(mirror1X, cy - 25, 5, 50);
  ctx.fillRect(cx - 25, mirror2Y, 50, 5);

  // Waves
  drawWaveLine(cx - 160, cy, cx, cy, wavePx, 3, time, "#ff7777");
  drawWaveLine(cx, cy, mirror1X, cy, wavePx, 3, time, "#66ccff");
  drawWaveLine(mirror1X, cy, cx, cy, wavePx, 3, time, "#66ccff");
  drawWaveLine(cx, cy, cx, mirror2Y, wavePx, 3, time, "#33ffcc");
  drawWaveLine(cx, mirror2Y, cx, cy, wavePx, 3, time, "#33ffcc");

  // Combined beam → screen
  drawWaveLine(cx, cy, w - 100, cy + 100, wavePx, 3, time, "#ffee88");

  // Screen
  const sx = w - 80, sy = cy + 60, sw = 25, sh = 120;
  ctx.fillStyle = "#000";
  ctx.fillRect(sx, sy, sw, sh);

  // Fringes
  const image = ctx.createImageData(sw, sh);
  const lambda_m = lambda_nm * 1e-9;
  const delta_m = delta_um * 1e-6 * 2;
  const phase0 = (2 * Math.PI * delta_m) / lambda_m + time;
  for (let y = 0; y < sh; y++) {
    const phase = phase0 + (y / 15);
    const I = 0.5 * (1 + Math.cos(phase));
    const lum = Math.floor(255 * I);
    for (let x = 0; x < sw; x++) {
      const i = (y * sw + x) * 4;
      image.data[i] = lum;
      image.data[i + 1] = lum;
      image.data[i + 2] = 255;
      image.data[i + 3] = 255;
    }
  }
  ctx.putImageData(image, sx, sy);

  // Labels
  ctx.fillStyle = "#ccc";
  ctx.font = "14px sans-serif";
  ctx.fillText("Laser Source", cx - 140, cy - 10);
  ctx.fillText("Beam Splitter", cx + 10, cy + 25);
  ctx.fillText("Mirror 1 (Movable)", mirror1X - 60, cy - 40);
  ctx.fillText("Mirror 2 (Fixed)", cx - 90, mirror2Y - 10);
  ctx.fillText("Screen", sx - 5, sy + sh + 15);
}

function animate() {
  if (!paused) t += 0.03;
  const delta = parseFloat(deltaSlider.value);
  const lambda = parseFloat(lambdaSlider.value);
  deltaValue.textContent = delta.toFixed(2);
  lambdaValue.textContent = lambda.toFixed(0);
  drawInterferometer(delta, lambda, t);
  requestAnimationFrame(animate);
}
animate();
</script>
</body>
</html>
